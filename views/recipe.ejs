<%- include('partials/profile-recipe-groceries-header') -%>

<!-- recipe name, info container -->
<div class="container">
  <div class="row">
    <div class="col-6">
      <h1><%= recipe.recipeName %></h1>
      <img class="img-fluid img-thumbnail" src="<%= recipe.image ? recipe.image : '' %>" alt="<%= recipe.recipeName %>">
    </div>

    <div class="col-6">
      <h1>Info</h1>
      <ul class="mt-5 pt-5">
        <li><strong>Prep Time:</strong> <%= recipe.prepTime ? recipe.prepTime : 'n/a' %></li>
        <li><strong>Bake/Cook Time:</strong> <%= recipe.bakeOrCookTime ? recipe.bakeOrCookTime : 'n/a' %></li>
        <li><strong>Total Time:</strong> <%= recipe.totalTime ? recipe.totalTime : 'n/a' %></li>
        <li><strong>Vegan:</strong> <%= recipe.vegan ? 'Yes' : 'No' %></li>
        <li><strong>Vegetarian:</strong> <%= recipe.vegetarian ? 'Yes' : 'No' %></li>
        <li><strong>Gluten-Free:</strong> <%= recipe.glutenFree ? 'Yes' : 'No' %></li>
      </ul>
    </div>
  </div>
</div>

<!-- recipe description container -->
<div class="container">
  <h2>Description</h2>
  <p><%= recipe.description %></p>
</div>

<div class="container mt-3">
  <h2>Ingredients</h2>
      <table class="table table-hover table-striped">
        <thead>
          <tr>
            <th class="text-center" scope="col">Amount</th>
            <th class="text-center" scope="col">Unit</th>
            <th class="text-center" scope="col">Name</th>
            <th class="text-center" scope="col">Instructions</th>
            <th class="text-center" scope="col">Add Item to Grocery List</th>
          </tr>
        <tbody>
          <% for (let i = 0; i < recipe.ingredientAmount.length; i++) { %>
            <tr>
              <td class="text-center align-middle"><%= recipe.ingredientAmount[i] ? recipe.ingredientAmount[i] : "-" %></td>
              <td class="text-center align-middle"><%= recipe.ingredientUnit[i] ? recipe.ingredientUnit[i] : "-" %></td>
              <td class="text-center align-middle"><%= recipe.ingredientName[i] ? recipe.ingredientName[i] : "-" %></td>
              <td class="text-center align-middle"><%= recipe.ingredientInstructions[i] ? recipe.ingredientInstructions[i] : "-" %></td>
              <td class="text-center align-middle">
                <form class="text-center" action="/groceries/addIngredientName/<%= recipe.ingredientName[i] %>" method="POST">
                  <button type="submit" class="btn btn-primary addIngredientBtn">+ item</button>
                </form>
              </td>
            </tr>
          <% } %>
        </tbody>
      </table>
</div>

<!-- recipe ingredient table container -->
<div class="container mt-3">
  <h2>Directions</h2>
      <table class="table table-hover table-striped">
        <tbody>
          <% for (let i = 0; i < recipe.directions.length; i++) { %>
            <tr>
              <td><strong><%= i + 1 %>.</strong>   <%= recipe.directions[i] %></td>
            </tr>
          <% } %>
        </tbody>
      </table>
</div>

<!-- recipe special notes container -->
<div class="container mb-3">
  <h2>Special Notes</h2>
  <p><%= recipe.specialNotes %></p>
</div>

<%- include('partials/edit-recipe-modal') -%>
<%- include('partials/profile-recipe-footer') -%>
